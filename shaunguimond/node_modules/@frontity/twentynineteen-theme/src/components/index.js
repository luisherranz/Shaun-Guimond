import React from "react";
import { Global, css, connect, styled, Head } from "frontity";
import Header from "./header";
import List from "./list";
import Post from "./post";
import Page404 from "./page404.js";
import Loading from "./loading";
import Footer from "./footer";
import globalStyle from '../style.min.css';


const Theme = ( { state } ) => {
  const data = state.source.get( state.router.link );
  return (
    <>
      <Head>
        <title>{ state.frontity.title }</title>
        <meta name="description" content={ state.frontity.description }/>
        <html lang="en"/>
      </Head>
	    <Global styles={ css( globalStyle ) }/>
      <Global styles={css`

            ::-webkit-scrollbar {
              width: 12px;
              background: #999999;
            }
            ::-webkit-scrollbar-thumb {
              background: #008077;
             -webkit-border-radius: 2px;
             -webkit-box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.75);
           }
            ::-webkit-scrollbar-corner {
              background: #767676;
           }

          @media (prefers-color-scheme: dark) {
            body { 
              background-color: black !important;
            }
            
              h1, h2, h3, h4, h5, h6, p, ul, table, code {
                color: white !important;
              }
            
              blockquote {
                background-color: #181818 !important;
                color: white !important;
              }
            
              pre {
              background-color: #181818 !important;
              }
            
               figcaption {
              color:#767676 !important;
              }
            
              ::-webkit-scrollbar {
                width: 12px;
                background: #111;
                }

            ::-webkit-scrollbar-thumb {
                background: #008077;
                -webkit-border-radius: 2px;
                -webkit-box-shadow: 0px 1px 2px rgba(100, 100, 100, 0.75);
            }

            ::-webkit-scrollbar-corner {
                background: #000;
            }

            }

      `}/>
      { ! data.isPostType && (
        <HeadContainer>
          <Header/>
        </HeadContainer>
      ) }
      <Body id="content" className="site-content">
        { data.isFetching && <Loading/> }
        { data.isArchive && <List/> }
        { data.isPostType && <Post/> }
        { data.is404 && <Page404/> }
      </Body>
	    <Footer/>
    </>
  );
};

export default connect( Theme );

const HeadContainer = styled.div``;

const Body = styled.div``;
